#!/bin/bash

EDITION=${1:-community}
BUILD_OS=${2:-unknown}
FEATURES=""
if [ $EDITION == enterprise ]; then
   FEATURES=";xdr"
fi

echo "////
//// AUTOMATICALLY GENERATED BY BUILD SYSTEM
////
const char aerospike_build_id[] = \"`git describe --abbrev=7`\";
const char aerospike_build_time[] = \"`date`\";
const char aerospike_build_type[] = \"Aerospike ${EDITION^} Edition\";
const char aerospike_build_os[] = \"${BUILD_OS}\";
const char aerospike_build_features[] = \"${FEATURES}\";
"
